<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>OmegaUp Exercise Reminder</title>
</head>
<body>
  <h1>OmegaUp Reminder</h1>
  <p>This page will remind you every 30 minutes to do your exercises.</p>
  <p>Exceptions: Monday–Friday from 4:00 PM to 6:00 PM (no reminders).</p>
  <button onclick="startReminders()">Start Reminders</button>

  <script>
    function isQuietHours() {
      const now = new Date();
      const day = now.getDay(); // 0=Sun, 1=Mon...6=Sat
      const hour = now.getHours();
      // Block Mon-Fri (1-5) from 16:00 to 18:00
      return day >= 1 && day <= 5 && hour >= 16 && hour < 18;
    }

    function showReminder() {
      if (!isQuietHours()) {
        new Notification("⏰ OmegaUp Reminder", {
          body: "Time to do your OmegaUp exercises!",
          icon: "https://upload.wikimedia.org/wikipedia/commons/6/6a/JavaScript-logo.png"
        });
      }
    }

    async function startReminders() {
      // Request notification permission
      const permission = await Notification.requestPermission();
      if (permission !== "granted") {
        alert("Notifications are blocked. Please allow them.");
        return;
      }
      showReminder(); // immediate first reminder
      setInterval(showReminder, 30 * 60 * 1000); // every 30 minutes
    }
  </script>
</body>
</html>
